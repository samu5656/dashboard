<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Virtual Desk Workspace</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: sans-serif;
      background: #f0f2f5;
    }
    .dashboard {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      padding: 20px;
    }
    .widget {
      width: 300px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 15px;
      position: relative;
      cursor: move;
    }
    .widget-header {
      font-weight: bold;
      margin-bottom: 10px;
    }
    .sticky-note textarea {
      width: 100%;
      height: 100px;
    }
    .todo-list ul {
      list-style: none;
      padding: 0;
    }
    .todo-list li {
      display: flex;
      justify-content: space-between;
      padding: 5px 0;
    }
    .todo-list li.done {
      text-decoration: line-through;
      color: gray;
    }
    .calendar {
      text-align: center;
    }
    .calendar table {
      width: 100%;
      border-collapse: collapse;
    }
    .calendar th, .calendar td {
      border: 1px solid #ddd;
      padding: 5px;
    }
    .bookmarks ul {
      list-style: none;
      padding: 0;
    }
    .bookmarks li a {
      color: blue;
      text-decoration: underline;
    }
    .remove-btn {
      float: right;
      cursor: pointer;
      color: red;
    }
  </style>
</head>
<body>
  <div class="dashboard" id="dashboard">
    <!-- Sticky Note Widget -->
    <div class="widget sticky-note" draggable="true">
      <div class="widget-header">Sticky Notes</div>
      <textarea id="noteInput"></textarea>
      <button onclick="saveNote()">Save</button>
      <div id="notesList"></div>
    </div>

    <!-- To-Do List Widget -->
    <div class="widget todo-list" draggable="true">
      <div class="widget-header">To-Do List</div>
      <input type="text" id="taskInput" placeholder="New task">
      <button onclick="addTask()">Add</button>
      <ul id="taskList"></ul>
    </div>

    <!-- Live Clock Widget -->
    <div class="widget clock" draggable="true">
      <div class="widget-header">Live Clock</div>
      <div id="clockDisplay"></div>
    </div>

    <!-- Calendar Widget -->
    <div class="widget calendar" draggable="true">
      <div class="widget-header">Calendar</div>
      <div id="calendarContainer"></div>
    </div>

    <!-- Bookmarks Widget -->
    <div class="widget bookmarks" draggable="true">
      <div class="widget-header">Bookmarks</div>
      <input type="text" id="bookmarkName" placeholder="Site name">
      <input type="url" id="bookmarkURL" placeholder="https://example.com">
      <button onclick="addBookmark()">Add</button>
      <ul id="bookmarkList"></ul>
    </div>
  </div>

  <script>
    // Sticky Notes
    function saveNote() {
      const text = document.getElementById('noteInput').value;
      if (text) {
        let notes = JSON.parse(localStorage.getItem('notes') || '[]');
        notes.push(text);
        localStorage.setItem('notes', JSON.stringify(notes));
        displayNotes();
        document.getElementById('noteInput').value = '';
      }
    }

    function displayNotes() {
      const container = document.getElementById('notesList');
      const notes = JSON.parse(localStorage.getItem('notes') || '[]');
      container.innerHTML = '';
      notes.forEach((note, index) => {
        const div = document.createElement('div');
        div.innerHTML = `${note} <span class='remove-btn' onclick='deleteNote(${index})'>x</span>`;
        container.appendChild(div);
      });
    }

    function deleteNote(index) {
      let notes = JSON.parse(localStorage.getItem('notes') || '[]');
      notes.splice(index, 1);
      localStorage.setItem('notes', JSON.stringify(notes));
      displayNotes();
    }

    // To-Do List
    function addTask() {
      const input = document.getElementById('taskInput');
      const task = input.value;
      if (task) {
        let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
        tasks.push({ text: task, done: false });
        localStorage.setItem('tasks', JSON.stringify(tasks));
        input.value = '';
        displayTasks();
      }
    }

    function toggleTask(index) {
      let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
      tasks[index].done = !tasks[index].done;
      localStorage.setItem('tasks', JSON.stringify(tasks));
      displayTasks();
    }

    function deleteTask(index) {
      let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
      tasks.splice(index, 1);
      localStorage.setItem('tasks', JSON.stringify(tasks));
      displayTasks();
    }

    function displayTasks() {
      const container = document.getElementById('taskList');
      const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
      container.innerHTML = '';
      tasks.forEach((task, index) => {
        const li = document.createElement('li');
        li.className = task.done ? 'done' : '';
        li.innerHTML = `<span onclick='toggleTask(${index})'>${task.text}</span> <span class='remove-btn' onclick='deleteTask(${index})'>x</span>`;
        container.appendChild(li);
      });
    }

    // Clock
    function updateClock() {
      const now = new Date();
      document.getElementById('clockDisplay').innerText = now.toLocaleTimeString();
    }
    setInterval(updateClock, 1000);

    // Calendar
    function displayCalendar() {
      const now = new Date();
      const year = now.getFullYear();
      const month = now.getMonth();
      const date = new Date(year, month, 1);

      const container = document.getElementById('calendarContainer');
      const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];

      let html = `<h3>${now.toLocaleString('default', { month: 'long' })} ${year}</h3>`;
      html += '<table><tr>' + days.map(d => `<th>${d}</th>`).join('') + '</tr><tr>';

      for (let i = 0; i < date.getDay(); i++) html += '<td></td>';
      while (date.getMonth() === month) {
        html += `<td>${date.getDate()}</td>`;
        if (date.getDay() === 6) html += '</tr><tr>';
        date.setDate(date.getDate() + 1);
      }
      html += '</tr></table>';
      container.innerHTML = html;
    }

    // Bookmarks
    function addBookmark() {
      const name = document.getElementById('bookmarkName').value;
      const url = document.getElementById('bookmarkURL').value;
      if (name && url) {
        let bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '[]');
        bookmarks.push({ name, url });
        localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
        document.getElementById('bookmarkName').value = '';
        document.getElementById('bookmarkURL').value = '';
        displayBookmarks();
      }
    }

    function deleteBookmark(index) {
      let bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '[]');
      bookmarks.splice(index, 1);
      localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
      displayBookmarks();
    }

    function displayBookmarks() {
      const container = document.getElementById('bookmarkList');
      const bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '[]');
      container.innerHTML = '';
      bookmarks.forEach((bookmark, index) => {
        const li = document.createElement('li');
        li.innerHTML = `<a href='${bookmark.url}' target='_blank'>${bookmark.name}</a> <span class='remove-btn' onclick='deleteBookmark(${index})'>x</span>`;
        container.appendChild(li);
      });
    }

    // Initial Load
    displayNotes();
    displayTasks();
    updateClock();
    displayCalendar();
    displayBookmarks();
  </script>
</body>
</html>
